# FileMonitor-AWD-C
专门为AWD比赛所写的一款监控文件脚本，基于C语言
目的：确保源码文件夹下的文件不发生改变，防止被其他队伍上传木马或者删站
## 0x00 脚本功能
这段代码实现了一个文件监控和备份工具。主要功能包括：

1. **备份文件和目录**：通过`list_files`函数，程序递归地遍历当前目录，将所有文件和子目录复制到指定的备份路径（`/tmp/bak0001`）。
2. **计算文件校验和**：`calculate_checksum`函数用于计算每个文件的简单字节和，用于检测文件是否被篡改。
3. **监控文件变化**：程序在`main`循环中定期检查当前目录的文件状态，比较其校验和与初始备份时的状态，检测文件是否被修改、删除或新增，并相应恢复。


## 0x01 脚本使用
建议先编译出来再放到服务器网站根目录运行上使用
```bash
#编译
gcc -o fc fc.c -static
```

```bash
#运行
chmod +x fc
./fc
```
## 特殊功能
当检测到运行目录下有AwsEfrdcV1EsqV文件新增时(如: touch AwsEfrdcV1EsqV),自动结束脚本运行(防止在某些情况中无法停止该程序,该值也可自行更改)
![image](https://github.com/user-attachments/assets/587db4b7-28d8-4c64-ab6c-4455e3b5d92a)


# ps
基于FileMonitor-for-AWD的思路重写，没有任何第三方库，最大程度解决兼容性问题和缺少运行依赖问题
